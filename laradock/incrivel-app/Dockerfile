ARG NODE_VERSION

FROM node:${NODE_VERSION}-alpine

ARG NODE_APP_PATH

ENV NODE_APP_PATH ${NODE_APP_PATH}

ARG APP_ENV_CONFIG

ENV APP_ENV ${APP_ENV_CONFIG}

ARG INCRIVEL_APP_LOCAL_PORT

ENV PORT ${INCRIVEL_APP_LOCAL_PORT}

WORKDIR ${NODE_APP_PATH}

RUN yarn install --no-progress --ignore-optional

CMD yarn start --host 0.0.0.0

EXPOSE ${INCRIVEL_APP_HOST_PORT}
